# EndoExport
Endomondo will be *shut down by Under Armor by the end of 2020*. As if that year hasn't been bad enough...

By March 2021 UA will pull the plug on Endomondo's data as well. Of course there's a great option to keep that data: sign up for UA's app, consent to their less-tham-GDPR-friendly terms, and sync away.

But what if I don't want to do that? Then there's the option to send in a request to ahve your data exported to a zip file. Good luck with that- I tried several times and never got an answer.

Then there's tapiriik. A great service meant to syc data between apps, Dropbox, and what have you.  I've been using it forwever to keep Endomondo and Runkeeper in sync. Unfornatunaly it's been broken for at least 6 months.

So - docker and Node.js to the rescue. I found an excellent [API handler for Endomondo](https://github.com/fabulator/endomondo-api-handler). Go check it out. 

To run that API and get some actual data out of Endomondo I went down the Docker-route.  Using the latest node image based on Alpine worked great.

I wasn't quite happy with the filenames generated by the API-handler's example script. So I took the liberty to rewrite that a bit (note: I'm everything but a JAvaScript developer - but it works).

So: here's the fruit of my efforts. A app.js script that does the hard lifting and a dockerfile used to build your own shiny container. Of course you can also use the one I already build in my own dockerhub.

##How to use

The Docker image has 4 environmental variables you can use:
`ENDO_USER` should be set yo your Endomondo username.
`ENDO_PASS` should be set yo your Endomondo password.
`ENV ENDO_PATH` is where your gpx files will be written to. It defaults to `/root/endoexport/gpx`. Make sure you have map something local into our container in this directory so you can retrieve the actual files.
`TZ` will set your timezone. Europe/Amsterdam is the default (go Orange!)
